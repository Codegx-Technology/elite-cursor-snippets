"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[348],{"./src/components/data-table/DataTable.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CustomCellRendering:()=>CustomCellRendering,Default:()=>Default,Empty:()=>Empty,__namedExportsOrder:()=>__namedExportsOrder,default:()=>DataTable_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),utils=__webpack_require__("./src/lib/utils.ts");const Table=react.forwardRef(({className,...props},ref)=>(0,jsx_runtime.jsx)("div",{className:"relative w-full overflow-auto",children:(0,jsx_runtime.jsx)("table",{ref,className:(0,utils.cn)("w-full caption-bottom text-sm",className),...props})}));Table.displayName="Table";const TableHeader=react.forwardRef(({className,...props},ref)=>(0,jsx_runtime.jsx)("thead",{ref,className:(0,utils.cn)("[&_tr]:border-b",className),...props}));TableHeader.displayName="TableHeader";const TableBody=react.forwardRef(({className,...props},ref)=>(0,jsx_runtime.jsx)("tbody",{ref,className:(0,utils.cn)("[&_tr:last-child]:border-0",className),...props}));TableBody.displayName="TableBody";const TableFooter=react.forwardRef(({className,...props},ref)=>(0,jsx_runtime.jsx)("tfoot",{ref,className:(0,utils.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",className),...props}));TableFooter.displayName="TableFooter";const TableRow=react.forwardRef(({className,...props},ref)=>(0,jsx_runtime.jsx)("tr",{ref,className:(0,utils.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",className),...props}));TableRow.displayName="TableRow";const TableHead=react.forwardRef(({className,...props},ref)=>(0,jsx_runtime.jsx)("th",{ref,className:(0,utils.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",className),...props}));TableHead.displayName="TableHead";const TableCell=react.forwardRef(({className,...props},ref)=>(0,jsx_runtime.jsx)("td",{ref,className:(0,utils.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",className),...props}));TableCell.displayName="TableCell";const TableCaption=react.forwardRef(({className,...props},ref)=>(0,jsx_runtime.jsx)("caption",{ref,className:(0,utils.cn)("mt-4 text-sm text-muted-foreground",className),...props}));TableCaption.displayName="TableCaption",Table.__docgenInfo={description:"",methods:[],displayName:"Table"},TableHeader.__docgenInfo={description:"",methods:[],displayName:"TableHeader"},TableBody.__docgenInfo={description:"",methods:[],displayName:"TableBody"},TableFooter.__docgenInfo={description:"",methods:[],displayName:"TableFooter"},TableHead.__docgenInfo={description:"",methods:[],displayName:"TableHead"},TableRow.__docgenInfo={description:"",methods:[],displayName:"TableRow"},TableCell.__docgenInfo={description:"",methods:[],displayName:"TableCell"},TableCaption.__docgenInfo={description:"",methods:[],displayName:"TableCaption"};var ui_button=__webpack_require__("./src/components/ui/button.tsx"),fa=__webpack_require__("__barrel_optimize__?names=FaSort,FaSortDown,FaSortUp!=!./node_modules/react-icons/fa/index.mjs");function DataTable({columns,data,pageSize=10}){const[sortBy,setSortBy]=(0,react.useState)(null),[sortDirection,setSortDirection]=(0,react.useState)("asc"),[currentPage,setCurrentPage]=(0,react.useState)(1),sortedData=(0,react.useMemo)(()=>sortBy?[...data].sort((a,b)=>{const aValue=a[sortBy],bValue=b[sortBy];return null==aValue?"asc"===sortDirection?1:-1:null==bValue?"asc"===sortDirection?-1:1:"string"==typeof aValue&&"string"==typeof bValue?"asc"===sortDirection?aValue.localeCompare(bValue):bValue.localeCompare(aValue):"number"==typeof aValue&&"number"==typeof bValue?"asc"===sortDirection?aValue-bValue:bValue-aValue:"asc"===sortDirection?String(aValue).localeCompare(String(bValue)):String(bValue).localeCompare(String(aValue))}):data,[data,sortBy,sortDirection]),[searchTerm,setSearchTerm]=(0,react.useState)(""),filteredData=(0,react.useMemo)(()=>{if(!searchTerm)return sortedData;const lowercasedSearchTerm=searchTerm.toLowerCase();return sortedData.filter(row=>columns.some(column=>{const value=row[column.accessorKey];return String(value).toLowerCase().includes(lowercasedSearchTerm)}))},[sortedData,searchTerm,columns]),paginatedData=(0,react.useMemo)(()=>{const startIndex=(currentPage-1)*pageSize,endIndex=startIndex+pageSize;return filteredData.slice(startIndex,endIndex)},[filteredData,currentPage,pageSize]),totalPages=Math.ceil(filteredData.length/pageSize);return(0,jsx_runtime.jsxs)("div",{className:"space-y-4",children:[(0,jsx_runtime.jsx)("input",{type:"text",placeholder:"Search...",value:searchTerm,onChange:e=>{setSearchTerm(e.target.value),setCurrentPage(1)},className:"p-2 border rounded-md w-full"}),(0,jsx_runtime.jsx)("div",{className:"rounded-md border",children:(0,jsx_runtime.jsxs)(Table,{children:[(0,jsx_runtime.jsx)(TableHeader,{children:(0,jsx_runtime.jsx)(TableRow,{children:columns.map(column=>{return(0,jsx_runtime.jsx)(TableHead,{children:column.enableSorting?(0,jsx_runtime.jsxs)(ui_button.$,{variant:"ghost",onClick:()=>{return accessorKey=column.accessorKey,void(sortBy===accessorKey?setSortDirection("asc"===sortDirection?"desc":"asc"):(setSortBy(accessorKey),setSortDirection("asc")));var accessorKey},className:"flex items-center",children:[column.header,(accessorKey=column.accessorKey,sortBy!==accessorKey?(0,jsx_runtime.jsx)(fa.MjW,{className:"ml-2 text-gray-400"}):"asc"===sortDirection?(0,jsx_runtime.jsx)(fa.XhJ,{className:"ml-2"}):(0,jsx_runtime.jsx)(fa.GOR,{className:"ml-2"}))]}):column.header},String(column.accessorKey));var accessorKey})})}),(0,jsx_runtime.jsxs)(TableBody,{children:[paginatedData.map((row,rowIndex)=>(0,jsx_runtime.jsx)(TableRow,{children:columns.map(column=>(0,jsx_runtime.jsx)(TableCell,{children:column.cell?column.cell(row):String(row[column.accessorKey])},String(column.accessorKey)))},rowIndex)),0===paginatedData.length&&(0,jsx_runtime.jsx)(TableRow,{children:(0,jsx_runtime.jsx)(TableCell,{colSpan:columns.length,className:"h-24 text-center",children:"No results."})})]})]})}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-end space-x-2 py-4",children:[(0,jsx_runtime.jsx)(ui_button.$,{variant:"outline",size:"sm",onClick:()=>setCurrentPage(prev=>Math.max(1,prev-1)),disabled:1===currentPage,children:"Previous"}),(0,jsx_runtime.jsxs)("span",{className:"text-sm text-gray-700",children:["Page ",currentPage," of ",totalPages]}),(0,jsx_runtime.jsx)(ui_button.$,{variant:"outline",size:"sm",onClick:()=>setCurrentPage(prev=>Math.min(totalPages,prev+1)),disabled:currentPage===totalPages,children:"Next"})]})]})}DataTable.__docgenInfo={description:"",methods:[],displayName:"DataTable",props:{columns:{required:!0,tsType:{name:"Array",elements:[{name:"ColumnDef",elements:[{name:"T"}],raw:"ColumnDef<T>"}],raw:"ColumnDef<T>[]"},description:""},data:{required:!0,tsType:{name:"Array",elements:[{name:"T"}],raw:"T[]"},description:""},pageSize:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"10",computed:!1}}}};const DataTable_stories={title:"Components/DataTable",component:DataTable,parameters:{layout:"centered"},tags:["autodocs"],argTypes:{columns:{control:"object",description:"Array of column definitions"},data:{control:"object",description:"Array of data objects"},pageSize:{control:{type:"number",min:1},description:"Number of items per page"}},args:{pageSize:5}},sampleColumns=[{accessorKey:"id",header:"ID",enableSorting:!0},{accessorKey:"name",header:"Name",enableSorting:!0},{accessorKey:"email",header:"Email",enableSorting:!0},{accessorKey:"age",header:"Age",enableSorting:!0},{accessorKey:"status",header:"Status",cell:row=>(0,jsx_runtime.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("active"===row.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:row.status}),enableSorting:!0}],sampleData=[{id:1,name:"Alice Smith",email:"alice@example.com",age:30,status:"active"},{id:2,name:"Bob Johnson",email:"bob@example.com",age:24,status:"inactive"},{id:3,name:"Charlie Brown",email:"charlie@example.com",age:35,status:"active"},{id:4,name:"Diana Prince",email:"diana@example.com",age:29,status:"active"},{id:5,name:"Eve Adams",email:"eve@example.com",age:40,status:"inactive"},{id:6,name:"Frank White",email:"frank@example.com",age:22,status:"active"},{id:7,name:"Grace Lee",email:"grace@example.com",age:31,status:"active"},{id:8,name:"Harry Kim",email:"harry@example.com",age:28,status:"inactive"},{id:9,name:"Ivy Chen",email:"ivy@example.com",age:33,status:"active"},{id:10,name:"Jack Ryan",email:"jack@example.com",age:27,status:"active"},{id:11,name:"Karen Green",email:"karen@example.com",age:45,status:"inactive"},{id:12,name:"Liam Black",email:"liam@example.com",age:26,status:"active"}],Default={args:{columns:sampleColumns,data:sampleData}},Empty={args:{columns:sampleColumns,data:[]}},CustomCellRendering={args:{columns:[{accessorKey:"id",header:"User ID"},{accessorKey:"name",header:"Full Name",cell:row=>(0,jsx_runtime.jsx)("span",{className:"font-bold text-blue-600",children:row.name.toUpperCase()})},{accessorKey:"email",header:"Contact Email"},{accessorKey:"status",header:"Account Status",cell:row=>(0,jsx_runtime.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("active"===row.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:row.status.toUpperCase()})}],data:sampleData}},__namedExportsOrder=["Default","Empty","CustomCellRendering"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: {\n    columns: sampleColumns,\n    data: sampleData\n  }\n}",...Default.parameters?.docs?.source}}},Empty.parameters={...Empty.parameters,docs:{...Empty.parameters?.docs,source:{originalSource:"{\n  args: {\n    columns: sampleColumns,\n    data: []\n  }\n}",...Empty.parameters?.docs?.source}}},CustomCellRendering.parameters={...CustomCellRendering.parameters,docs:{...CustomCellRendering.parameters?.docs,source:{originalSource:"{\n  args: {\n    columns: [{\n      accessorKey: 'id',\n      header: 'User ID'\n    }, {\n      accessorKey: 'name',\n      header: 'Full Name',\n      cell: (row: User) => <span className=\"font-bold text-blue-600\">{row.name.toUpperCase()}</span>\n    }, {\n      accessorKey: 'email',\n      header: 'Contact Email'\n    }, {\n      accessorKey: 'status',\n      header: 'Account Status',\n      cell: (row: User) => <span className={`px-2 py-1 rounded-full text-xs font-medium ${row.status === 'active' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`}>\r\n            {row.status.toUpperCase()}\r\n          </span>\n    }],\n    data: sampleData\n  }\n}",...CustomCellRendering.parameters?.docs?.source}}}}}]);